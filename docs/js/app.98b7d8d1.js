(function(e){function t(t){for(var r,l,c=t[0],s=t[1],u=t[2],A=0,p=[];A<c.length;A++)l=c[A],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&p.push(o[l][0]),o[l]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);i&&i(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},o={app:0},a=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var i=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},"3da7":function(e,t,n){"use strict";var r=n("93cf"),o=n.n(r);o.a},"45c5":function(e,t){e.exports="data:image/jpeg;base64,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"},"5d89":function(e,t,n){e.exports=n.p+"img/square-tile.1dba277d.png"},"85ec":function(e,t,n){},"93cf":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("5f5b"),a=n("8c4f"),l=n("4eb5"),c=n.n(l),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Main",{attrs:{id:"app"}},[n("b-container",[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("h1",[e._v("Connect Four")])])],1),n("router-view")],1)],1)},u=[],i={name:"App",components:{},data:function(){return{}},methods:{}},A=i,p=(n("034f"),n("2877")),d=Object(p["a"])(A,s,u,!1,null,null,null),f=d.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Section",[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("h1",[e._v("Let's Play!")])])],1),n("b-row",[n("b-col",{attrs:{cols:"2",offset:"5"}},[n("b-button",{attrs:{size:"lg"},on:{click:function(t){return e.handleClick()}}},[e._v("Start New Game")])],1)],1)],1)},h=[],m=(n("99af"),n("96cf"),n("1da1")),b=(n("d3b7"),n("bc3a")),v=n.n(b),x={createNewGame:function(){return v.a.post("".concat("https://hno237zq5h.execute-api.eu-west-1.amazonaws.com/prod","/new"))}},g={name:"NewGamePage",data:function(){return{}},methods:{handleClick:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.createNewGame();case 3:n=t.sent,e.copySucceeded=!1,e.gameId=n.data.gameId,e.playerId=n.data.currentPlayer,console.log(n),e.$router.push("".concat(e.gameId,"/").concat(e.playerId)),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},S=g,P=Object(p["a"])(S,y,h,!1,null,null,null),w=P.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Section",[n("b-row",[n("b-col",{attrs:{cols:"6",offset:"3"}},["/"==e.$router.history._startLocation?n("ShareableUrl"):e._e()],1)],1),n("b-row",[n("b-col",{attrs:{cols:"2"}},[n("PlayerStatusBox",{attrs:{id:"currentPlayerStatusBox",isCurrentPlayer:!0,player:e.playerId,isTurn:e.isCurrentPlayerTurn,isConnected:"r"===e.playerId?e.playerRPresent:e.playerYPresent}})],1),n("b-col",{attrs:{cols:"8"}},[n("Board",{attrs:{boardState:e.board}})],1),n("b-col",{attrs:{cols:"2"}},[n("PlayerStatusBox",{attrs:{id:"otherPlayerStatusBox",player:e.otherPlayerId,isTurn:e.isOtherPlayerTurn,isConnected:"r"===e.playerId?e.playerYPresent:e.playerRPresent}})],1)],1),n("b-row",[n("b-col",{attrs:{cols:"2",offset:"5"}},[n("ColumnDropdown",{on:{"column-change":function(t){return e.playMove(t)}}})],1)],1),n("b-row",[n("b-col",{attrs:{cols:"2",offset:"5"}},[n("b-button",{attrs:{size:"lg"},on:{click:function(t){return e.handleClick()}}},[e._v("Close Connection")])],1)],1)],1)},C=[],T=(n("cb29"),n("a15b"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.boardState,(function(e,t){return n("Section",{key:t},[n("BoardRow",{attrs:{row:e}})],1)})),1)}),L=[],I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.row,(function(e,t){return r("span",{key:t},[r("img","r"==e?{staticClass:"placeImage",attrs:{src:n("d970")}}:"y"==e?{staticClass:"placeImage",attrs:{src:n("45c5")}}:{staticClass:"placeImage",attrs:{src:n("5d89")}})])})),0)},O=[],N={name:"BoardRow",props:{row:Array},data:function(){return{}},methods:{}},z=N,G=(n("3da7"),Object(p["a"])(z,I,O,!1,null,"59ee9c7c",null)),k=G.exports,E={name:"Board",components:{BoardRow:k},props:{boardState:Array},methods:{}},M=E,H=Object(p["a"])(M,T,L,!1,null,"d501a594",null),X=H.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Section",[n("b-form-select",{attrs:{options:e.columnChoices},on:{change:e.emitColumnChange},model:{value:e.selectedColumn,callback:function(t){e.selectedColumn=t},expression:"selectedColumn"}},[n("template",{slot:"first"},[n("option",{attrs:{disabled:""}},[e._v(" -- Please select column choice -- ")])])],2)],1)],1)},B=[],F={name:"ColumnDropdown",data:function(){return{columnChoices:[1,2,3,4,5,6,7],selectedColumn:null}},methods:{emitColumnChange:function(){this.$emit("column-change",this.selectedColumn)}}},W=F,U=Object(p["a"])(W,J,B,!1,null,"3e730e88",null),V=U.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Section",[n("b-input-group",{staticClass:"mt-3",attrs:{prepend:"Share with your opponent"}},[n("b-form-input",{attrs:{id:"nextPlayerUrl"},model:{value:e.shareableUrl,callback:function(t){e.shareableUrl=t},expression:"shareableUrl"}}),n("b-input-group-append",[n("button",{attrs:{type:"button"},on:{click:e.handleCopy}},[n("span",{staticClass:"far fa-copy"})])])],1),e.copySucceeded?n("p",[e._v("Copied!")]):n("p",[e._v("Press CTRL+C to copy.")])],1)},R=[];function Y(e){return"r"==e?"y":"y"===e?"r":void 0}var Q={data:function(){return{shareableUrl:null,copySucceeded:null}},methods:{handleCopy:function(){this.$copyText(this.shareableUrl),this.copySucceeded=!0}},mounted:function(){this.gameId=this.$route.params.gameId,this.playerId=this.$route.params.playerId,this.nextPlayerId=Y(this.playerId),this.shareableUrl="".concat(window.location.origin,"/").concat(this.gameId,"/").concat(this.nextPlayerId)}},Z=Q,q=Object(p["a"])(Z,D,R,!1,null,null,null),K=q.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-card",{attrs:{title:e.isCurrentPlayer?"YOU":"THEM","bg-variant":e.statusBoxBackground,"text-variant":"white"}},[e.isConnected?n("b-card-text",[e._v(" Status: Connected ")]):n("b-card-text",[e._v(" Status: Disconnected ")]),n("b-card-text",[e._v(" "+e._s(e.playerTurnMessage)+" ")])],1)],1)},$=[],ee={props:{player:{type:String,default:"Unknown"},isConnected:{type:Boolean,default:!1},isTurn:{type:Boolean,default:!1},isCurrentPlayer:{type:Boolean,default:!1}},computed:{statusBoxBackground:function(){return"r"===this.player&&this.isConnected?"danger":"y"===this.player&&this.isConnected?"warning":"dark"},playerTurnMessage:function(){return this.isTurn&&this.isCurrentPlayer?"YOUR turn! Choose a column":this.isTurn||this.isCurrentPlayer?this.isTurn&&!this.isCurrentPlayer?"THEIR turn, be patient":!this.isTurn&&this.isCurrentPlayer?"You are patiently waiting for the other player to make their move...":"":"They're waiting for you to decide..."}}},te=ee,ne=Object(p["a"])(te,_,$,!1,null,null,null),re=ne.exports,oe={name:"GameSession",components:{Board:X,ColumnDropdown:V,ShareableUrl:K,PlayerStatusBox:re},data:function(){return{connection:null,board:null,gameId:null,playerId:null,otherPlayerId:"unknown",playerRPresent:!1,playerYPresent:!1,previousTurn:null}},computed:{isOtherPlayerTurn:function(){return this.previousTurn===this.playerId},isCurrentPlayerTurn:function(){return this.previousTurn===this.otherPlayerId}},methods:{playMove:function(e){var t={gameId:this.gameId,playerId:this.playerId,type:"CLIENT_COLUMN",column:e-1};console.log(JSON.stringify(t)),this.connection.send(JSON.stringify(t))},handleClick:function(){this.connection.close()}},created:function(){var e=this;function t(){var e=32,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,r=Array(e).fill(void 0).map((function(e){return t.charAt(Math.floor(Math.random()*n))})).join("");return r}if(this.gameId=this.$route.params.gameId,this.playerId=this.$route.params.playerId,this.otherPlayerId=Y(this.playerId),console.log("Starting connection to WebSocket Server"),!localStorage.getItem("secretToken")){var n=t();localStorage.setItem("secretToken",n)}var r=localStorage.getItem("secretToken");this.connection=new WebSocket("".concat("wss://pm2s85u099.execute-api.eu-west-1.amazonaws.com/prod","?gameId=").concat(this.gameId,"&playerId=").concat(this.playerId,"&secretAccessToken=").concat(r)),this.connection.onopen=function(t){console.log(t),console.log("Successfully connected to the connect 4 api...");var n={gameId:e.gameId,playerId:e.playerId,type:"CLIENT_HELLO"};e.connection.send(JSON.stringify(n))},this.connection.onmessage=function(t){console.log(t);var n=JSON.parse(t.data);"SERVER_PRESENCE"===n.type?(e.playerRPresent=n.playerRPresent,e.playerYPresent=n.playerYPresent):(e.board=n.boardState,e.previousTurn=n.currentPlayer)},this.connection.onclose=function(e){console.log(e),console.log("Successfully disconnected...")}}},ae=oe,le=Object(p["a"])(ae,j,C,!1,null,null,null),ce=le.exports,se=(n("f9e3"),n("2dd8"),[{path:"/:gameId/:playerId",component:ce},{path:"/",component:w}]),ue=new a["a"]({mode:"history",routes:se});r["default"].use(o["a"]),r["default"].use(a["a"]),r["default"].use(c.a),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(f)},router:ue}).$mount("#app")},d970:function(e,t,n){e.exports=n.p+"img/red.16eb1a13.png"}});
//# sourceMappingURL=app.98b7d8d1.js.map